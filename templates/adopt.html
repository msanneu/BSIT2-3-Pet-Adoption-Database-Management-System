<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adoption Application | PetAdopt</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { 
            --primary-navy: #1a2a3a; 
            --accent-gold: #c5a059; 
            --bg-cream: #fdfdfb; 
            --text-main: #333333;
            --border-light: #e0e0e0;
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg-cream); color: var(--text-main); }
        h2, h5 { font-family: 'Playfair Display', serif; color: var(--primary-navy); }
        
        .form-card { 
            background: #fff; 
            border: 1px solid var(--border-light); 
            border-radius: 0; /* Professional sharp edges */
            padding: 50px;
            position: relative;
        }
        
        .btn-close-custom {
            position: absolute; top: 20px; right: 20px;
            font-size: 1.5rem; color: var(--accent-gold); text-decoration: none; transition: 0.3s;
        }
        .btn-close-custom:hover { transform: rotate(90deg); color: var(--primary-navy); }

        .pet-preview-sm {
            display: flex; align-items: center; gap: 15px;
            background: #fcfaf5; padding: 20px; border: 1px solid #f0e6d2; 
            margin-bottom: 30px;
        }
        .pet-preview-sm img { width: 70px; height: 70px; object-fit: cover; border: 2px solid var(--accent-gold); }

        .form-control { border-radius: 0; border: 1px solid var(--border-light); padding: 12px; }
        .form-control:focus { border-color: var(--accent-gold); box-shadow: none; }

        .btn-classic {
            background: var(--accent-gold); color: white; border: 1px solid var(--accent-gold);
            padding: 15px; border-radius: 0; text-transform: uppercase; font-weight: 600; letter-spacing: 1px;
            width: 100%; transition: 0.4s;
        }
        .btn-classic:hover { background: var(--primary-navy); border-color: var(--primary-navy); color: white; }
    </style>
</head>
<body>

<div class="container mt-5 mb-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="form-card shadow-sm">
                <a href="/" class="btn-close-custom" title="Go Back">&times;</a>
                
                <h2 class="fw-bold mb-2 text-center">Adoption Application</h2>

                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, message in messages %}
                        <div class="alert alert-{{ category }} rounded-0 small shadow-sm mb-3">{{ message }}</div>
                        {% endfor %}
                    {% endif %}
                {% endwith %}

                <p class="text-muted text-center mb-4 small text-uppercase ls-2">Standard Placement Procedure</p>

                <div class="pet-preview-sm">
                    {% if pet.photo %}
                    <img src="{{ url_for('static', filename='uploads/' + pet.photo) }}" alt="{{ pet.name }}">
                    {% else %}
                    <img src="https://images.unsplash.com/photo-1450778869180-41d0601e046e?auto=format&fit=crop&w=300&q=80" alt="{{ pet.name }}">
                    {% endif %}
                    <div>
                        <h5 class="fw-bold mb-0">Applying for {{ pet.name }}</h5>
                        <small class="text-muted text-uppercase smaller">{{ pet.breed }}</small>
                    </div>
                </div>

                <form method="POST" enctype="multipart/form-data">
                    <div class="mb-3">
                        <label class="form-label small fw-bold text-uppercase">Full Legal Name</label>
                        <input type="text" name="name" class="form-control" placeholder="Juan Dela Cruz" required>
                    </div>

                    <div class="mb-3">
                        <label class="form-label small fw-bold text-uppercase">Authentic Email Address</label>
                        <input type="email" name="email" class="form-control"
                               placeholder="juan@example.com"
                               pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                               required>
                    </div>

                    <div class="mb-4">
                        <label class="form-label small fw-bold text-uppercase" style="color: var(--accent-gold);">Government Issued ID</label>
                        <p class="x-small text-muted mb-2 italic">Mandatory ID verification is required to ensure animal safety and residential stability.</p>
                        <input type="file" name="id_proof" class="form-control" accept="image/*" required>
                    </div>

                    <button type="submit" class="btn-classic">Submit Formal Application</button>
                    
                    <div class="text-center mt-4">
                        <a href="/" class="text-decoration-none text-muted small text-uppercase letter-spacing-1">Cancel and Return</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

</body>
</html>